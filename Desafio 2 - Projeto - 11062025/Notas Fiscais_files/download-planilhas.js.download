var DownloadPlanilhas=function(a,f,d,c){this.modulo=a;this.arquivos=f;this.modoApresentacao=d;this.url=c};
DownloadPlanilhas.prototype.gerarLinksOrigens=function(a,f,d,c){$("#origens-mes").slideDown(1,function(){for(var b=[],f=$("#links-origens-mes"),e=0;e<a.arquivos.length;e++)a.arquivos[e].ano===d&&a.arquivos[e].mes===c&&-1===$.inArray(a.arquivos[e].origem,b)&&b.push(a.arquivos[e].origem);f.empty();for(e=0;e<b.length;e++){var h=$("\x3coption\x3e");h.text(b[e]);h.val(b[e]);f.append(h)}$("#link").remove();$("#btn").remove();b=$("\x3cbutton\x3e");b.addClass("br-button");b.addClass("primary");b.text("Baixar");
b.attr("id","btn");b.css("margin-top","30px");var k=$("\x3ca\x3e");k.addClass("a-no-css");k.attr("id","link");k.attr("href",a.url+d+c+"_"+f.val());f.change(function(){var b=$("#links-origens-mes").val();k.attr("href",a.url+(d+c+"_"+b))});k.append(b);$("#origens-mes").append(k)})};
DownloadPlanilhas.prototype.gerarLinksDias=function(a,f,d,c){$("#dias").slideDown(1,function(){for(var b=[],g=$("#links-dias"),e=0;e<a.arquivos.length;e++)a.arquivos[e].origem!==f&&""!==f||a.arquivos[e].ano!==d||a.arquivos[e].mes!==c||-1!==$.inArray(a.arquivos[e].dia,b)||b.push(a.arquivos[e].dia);g.empty();for(e=0;e<b.length;e++){var h=$("\x3coption\x3e");h.text(b[e]);h.val(b[e]);g.append(h)}$("#btn").remove();b=$("\x3cbutton\x3e");b.addClass("br-button");b.addClass("primary");b.text("Baixar");b.attr("id",
"btn");b.css("margin-top","30px");var k=$("\x3ca\x3e");k.addClass("a-no-css");k.attr("id","link");$("#link").remove();var l=d+c+g.val();g.change(function(){l=d+c+$("#links-dias").val();k.attr("href",a.url+l)});if("imoveis-funcionais"===a.modulo||"historico-imoveis-funcionais"===a.modulo)l=l+"_"+f;k.attr("href",a.url+l);k.append(b);$("#dias").append(k)})};
DownloadPlanilhas.prototype.obterMesPorExtenso=function(a){switch(a){case "01":return"Janeiro";case "02":return"Fevereiro";case "03":return"Março";case "04":return"Abril";case "05":return"Maio";case "06":return"Junho";case "07":return"Julho";case "08":return"Agosto";case "09":return"Setembro";case "10":return"Outubro";case "11":return"Novembro";case "12":return"Dezembro";default:return"erro!"}};
DownloadPlanilhas.prototype.gerarLinksMeses=function(a,f,d){$("#dias").slideUp(1);$("#origens-mes").slideUp(1);$("#meses").slideDown(1,function(){for(var c=[],b=$("#links-meses"),g=0;g<a.arquivos.length;g++)a.arquivos[g].origem!==f&&""!==f||a.arquivos[g].ano!==d||-1!==$.inArray(a.arquivos[g].mes,c)||c.push(a.arquivos[g].mes);b.empty();for(g=0;g<c.length;g++){var e=$("\x3coption\x3e");e.text(a.obterMesPorExtenso(c[g]));e.val(c[g]);b.append(e)}$("#link").remove();$("#btn").remove();c=$("\x3cbutton\x3e");
c.addClass("br-button");c.addClass("primary");c.text("Baixar");c.attr("id","btn");c.css("margin-top","30px");var h=$("\x3ca\x3e");h.addClass("a-no-css");"ANO_MES"===a.modoApresentacao?(h.attr("href",a.url+d+b.val()),b.change(function(){h.attr("id","link");h.attr("href",a.url+d+b.val())}),h.append(c),$("#meses").append(h)):"servidores"===a.modulo||"historico-servidores"===a.modulo?(a.gerarLinksOrigens(a,f,d,b.val()),b.change(function(){a.gerarLinksOrigens(a,f,d,b.val())})):(a.gerarLinksDias(a,f,d,
b.val()),$("#titulo-dias").text("Dados Disponíveis em "+a.obterMesPorExtenso(b.val())),b.change(function(){a.gerarLinksDias(a,f,d,b.val());$("#titulo-dias").text("Dados Disponíveis em "+a.obterMesPorExtenso(b.val()))}))})};
DownloadPlanilhas.prototype.criarLinksIniciaisArquivoUnico=function(){$("#arquivo-unico").show();var a=this.arquivos[0].ano+this.arquivos[0].mes+this.arquivos[0].dia,f=this.arquivos[0].dia+"/"+this.arquivos[0].mes+"/"+this.arquivos[0].ano;$("#link-unico").append("\x3cli\x3e\x3ca type\x3d'button' class\x3d'br-button primary' href\x3d'"+this.url+a+"'\x3e"+f+"\x3c/a\x3e\x3c/li\x3e")};
DownloadPlanilhas.prototype.criarLinksIniciaisArquivoUnicoMensal=function(){$("#arquivo-unico").show();var a=this.arquivos[0].ano+this.arquivos[0].mes,f=this.obterMesPorExtenso(this.arquivos[0].mes)+"/"+this.arquivos[0].ano;$("#link-unico").append("\x3cli\x3e\x3ca type\x3d'button' class\x3d'br-button primary' href\x3d'"+this.url+a+"'\x3e"+f+"\x3c/a\x3e\x3c/li\x3e")};
DownloadPlanilhas.prototype.gerarLinksAnos=function(a,f){$("#anos").slideDown(1,function(){for(var d=[],c=$("#links-anos"),b=0;b<a.arquivos.length;b++)a.arquivos[b].origem!==f&&""!==f||-1!==$.inArray(a.arquivos[b].ano,d)||d.push(a.arquivos[b].ano);d.reverse();c.empty();for(b=0;b<d.length;b++){var g=$("\x3coption\x3e");g.text(d[b]);g.val(d[b]);c.append(g)}d=$("\x3cbutton\x3e");d.addClass("br-button");d.addClass("primary");d.text("Baixar");d.css("margin-top","30px");var e=$("\x3ca\x3e");e.addClass("a-no-css");
"ANO"===a.modoApresentacao?(e.attr("href",a.url+c.val()),c.change(function(){e.attr("href",a.url+$("#links-anos").val())}),e.append(d),$("#anos").append(e)):(a.gerarLinksMeses(a,f,c.val()),$("#titulo-meses").text("Meses Disponíveis em "+$("#links-anos").val()),c.change(function(){a.gerarLinksMeses(a,f,$("#links-anos").val());$("#titulo-meses").text("Meses Disponíveis em "+$("#links-anos").val())}))})};DownloadPlanilhas.prototype.criarLinksIniciaisAnos=function(){this.gerarLinksAnos(this,"")};
DownloadPlanilhas.prototype.criarLinksIniciaisOrigens=function(){var a=this;$("#origens").show();for(var f=[],d=$("#links-origens"),c=0;c<this.arquivos.length;c++)-1===$.inArray(this.arquivos[c].origem,f)&&f.push(this.arquivos[c].origem);for(c=0;c<f.length;c++){var b=$("\x3coption\x3e");b.text(f[c]);b.val(f[c]);d.append(b)}this.gerarLinksAnos(this,d.val());d.change(function(){a.gerarLinksAnos(a,$("#links-origens").val())})};
DownloadPlanilhas.prototype.criarBotaoBaixarArquivoUnico=function(){$("#arquivo-unico").show();$("#link-unico").append("\x3cli\x3e\x3ca type\x3d'button' class\x3d'br-button primary' href\x3d'"+this.url+"UNICO'\x3eBaixar arquivo único\x3c/a\x3e\x3c/li\x3e")};
DownloadPlanilhas.prototype.criarLinksIniciais=function(){"DIA"===this.modoApresentacao?this.criarLinksIniciaisArquivoUnico():"MES"===this.modoApresentacao?this.criarLinksIniciaisArquivoUnicoMensal():"ANO_MES_DIA"===this.modoApresentacao||"ANO_MES_ORIGEM"===this.modoApresentacao||"ANO_MES"===this.modoApresentacao||"ANO"===this.modoApresentacao?this.criarLinksIniciaisAnos():"ORIGEM_ANO_MES_DIA"===this.modoApresentacao?this.criarLinksIniciaisOrigens():"UNICO"===this.modoApresentacao&&this.criarBotaoBaixarArquivoUnico()};